<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gatot Kaca Search Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Poppins', 'ui-sans-serif', 'system-ui', 'sans-serif'],
            },
            colors: {
              primary: '#0EA5E9', 
              secondary: '#22C55E', 
              accent: '#F59E0B',
              dark: '#1E293B', 
              light: '#F8FAFC', 
            },
            animation: {
              'spin-slow': 'spin 2s linear infinite',
            },
          },
        },
        plugins: [
          function({ addComponents }) {
            addComponents({
              '.btn': {
                padding: '0.5rem 1rem',
                borderRadius: '0.5rem',
                fontWeight: '500',
                display: 'inline-flex',
                alignItems: 'center',
                justifyContent: 'center',
                transition: 'all 200ms ease-out',
                '&:focus-visible': {
                  outline: 'none',
                  boxShadow: '0 0 0 4px rgba(14, 165, 233, 0.5)',
                },
              },
              '.btn-primary': {
                backgroundColor: '#0EA5E9',
                color: 'white',
                '&:hover': {
                  backgroundColor: '#0284C7',
                },
                '&:active': {
                  transform: 'scale(0.98)',
                },
              },
              '.btn-secondary': {
                backgroundColor: '#F59E0B',
                color: 'white',
                '&:hover': {
                  backgroundColor: '#D97706',
                },
                '&:active': {
                  transform: 'scale(0.98)',
                },
              },
              '.no-scrollbar': {
                '-ms-overflow-style': 'none',
                'scrollbar-width': 'none',
                '&::-webkit-scrollbar': {
                  display: 'none',
                },
              },
            })
          }
        ]
      }
    </script>
</head>
<body class="bg-slate-50 dark:bg-slate-900 min-h-screen font-sans text-slate-800 dark:text-slate-100">
  <!-- Dark Mode  -->
  <div class="absolute top-4 right-4 z-50">
    <button id="darkModeToggle" aria-label="Toggle dark mode" class="p-2 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors">
      <i class="fas fa-sun dark:hidden"></i>
      <i class="fas fa-moon hidden dark:block"></i>
    </button>
  </div>

  <!-- Header -->
  <header class="search-container batik-pattern text-white py-16 md:py-20 relative">
    <div class="max-w-5xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-10">
        <h1 class="inline-flex items-center justify-center gap-3 text-4xl md:text-5xl font-bold mb-3">
          <i class="fas fa-shield-alt"></i>Gatot Kaca Search
        </h1>
        <p class="text-white/80 text-lg md:text-xl">Temukan informasi tentang sejarah dan wisata Indonesia</p>
      </div>
      
      <!-- Search Box  -->
      <div class="relative -mb-20">
        <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-3 md:p-4 mx-auto max-w-3xl">
          <div class="flex flex-col md:flex-row gap-3">
            <div class="flex flex-1 flex-col sm:flex-row gap-3">
              <!-- Search Input -->
              <div class="relative flex-1">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-slate-400 dark:text-slate-500">
                  <i class="fas fa-search"></i>
                </span>
                <input 
                  id="q" 
                  type="text" 
                  placeholder="Cari informasi tentang Indonesia..." 
                  aria-label="Kata kunci pencarian"
                  class="w-full pl-11 pr-4 py-3 md:py-3.5 rounded-xl text-base md:text-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 placeholder:text-slate-400 focus:outline-none focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-700/50"
                  onkeypress="handleEnter(event)">
              </div>
              
              <!-- Category Filter -->
              <div class="min-w-[9rem] md:min-w-[11rem]">
                <select 
                  id="category" 
                  aria-label="Filter kategori" 
                  title="Filter berdasarkan kategori" 
                  class="w-full px-4 py-3 md:py-3.5 rounded-xl text-base md:text-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-700/50 appearance-none select-arrow pr-10">
                  <option value="Semua">Semua Kategori</option>
                </select>
              </div>
            </div>
            
            <!-- Search Button -->
            <button 
              onclick="doSearch()" 
              aria-label="Lakukan pencarian"
              class="btn btn-secondary py-3 md:py-3.5 px-6 text-base md:text-lg rounded-xl font-semibold shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]">
              <i class="fas fa-search mr-2"></i>Cari
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="pt-24 pb-12">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <div class="overflow-x-auto no-scrollbar pb-4 -mt-2">
        <div class="flex flex-nowrap gap-2 justify-center">
          <button 
            onclick="quickSearch('sejarah indonesia')" 
            aria-label="Cari sejarah Indonesia"
            class="glass-card px-4 py-2 rounded-full text-white hover:bg-white/20 whitespace-nowrap">
            <i class="fas fa-history mr-2"></i>Sejarah Indonesia
          </button>
          <button 
            onclick="quickSearch('wisata bali')" 
            aria-label="Cari wisata Bali"
            class="glass-card px-4 py-2 rounded-full text-white hover:bg-white/20 whitespace-nowrap">
            <i class="fas fa-map-marker-alt mr-2"></i>Wisata Bali
          </button>
          <button 
            onclick="quickSearch('budaya')" 
            aria-label="Cari budaya"
            class="glass-card px-4 py-2 rounded-full text-white hover:bg-white/20 whitespace-nowrap">
            <i class="fas fa-theater-masks mr-2"></i>Budaya
          </button>
          <button 
            onclick="quickSearch('tradisi')" 
            aria-label="Cari tradisi"
            class="glass-card px-4 py-2 rounded-full text-white hover:bg-white/20 whitespace-nowrap">
            <i class="fas fa-hands-helping mr-2"></i>Tradisi
          </button>
        </div>
      </div>

      <!-- Admin Controls -->
      <div class="flex flex-wrap justify-center gap-2 mb-8">
        <button 
          id="reindexBtn" 
          onclick="reindexDatabase()" 
          aria-label="Reindex database"
          class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full transition-all flex items-center gap-2 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-indigo-300 dark:focus-visible:ring-indigo-800">
          <i class="fas fa-sync-alt"></i> <span>Reindex Database</span>
        </button>
        <button 
          id="analyzeBtn" 
          onclick="analyzeCorpus()" 
          aria-label="Analisis korpus"
          class="px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-full transition-all flex items-center gap-2 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-300 dark:focus-visible:ring-sky-800">
          <i class="fas fa-chart-bar"></i> <span>Analisis Korpus</span>
        </button>
      </div>
      
      <!-- Loading Animation -->
      <div id="loading" class="loading text-center py-8" role="status" aria-live="polite">
        <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-t-2 border-sky-600 dark:border-sky-500"></div>
        <p class="mt-3 text-slate-600 dark:text-slate-400">
          <i class="fas fa-search mr-1"></i>Mencari informasi...
        </p>
      </div>

      <!-- Search Stats -->
      <div id="searchStats" class="hidden mb-6" aria-live="polite">
        <div class="bg-white/80 dark:bg-slate-800/70 backdrop-blur rounded-xl p-4 shadow-sm border border-slate-200/70 dark:border-slate-700/50">
          <div class="flex items-center gap-2">
            <i class="fas fa-chart-bar text-sky-600 dark:text-sky-400"></i>
            <p class="text-sm text-slate-600 dark:text-slate-300">
              Ditemukan <span id="resultCount" class="font-semibold text-sky-600 dark:text-sky-400">0</span> hasil 
              untuk "<span id="queryText" class="font-semibold text-slate-800 dark:text-white">-</span>" 
              dalam <span id="searchTime" class="font-semibold text-sky-600 dark:text-sky-400 font-mono">0</span>ms
            </p>
          </div>
        </div>
      </div>

      <!-- Results -->
      <div id="results" class="space-y-5" aria-live="polite"></div>
      
      <!-- Pagination Controls -->
      <div id="pagination" class="hidden mt-10 flex justify-center items-center space-x-2">
        <button 
          id="prevPage" 
          onclick="changePage(-1)" 
          aria-label="Halaman sebelumnya"
          class="px-4 py-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-300 dark:focus-visible:ring-sky-700/50">
          <i class="fas fa-chevron-left mr-2"></i>Sebelumnya
        </button>
        <div id="pageInfo" class="text-slate-600 dark:text-slate-400 font-medium mx-4">
          Halaman <span id="currentPage" class="font-semibold text-sky-600 dark:text-sky-400">1</span> dari <span id="totalPages" class="font-semibold">1</span>
        </div>
        <button 
          id="nextPage" 
          onclick="changePage(1)" 
          aria-label="Halaman selanjutnya"
          class="px-4 py-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-300 dark:focus-visible:ring-sky-700/50">
          Selanjutnya<i class="fas fa-chevron-right ml-2"></i>
        </button>
      </div>
      <div 
        id="analysisModal" 
        class="hidden fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center backdrop-blur-sm" 
        role="dialog" 
        aria-modal="true" 
        aria-labelledby="analysisTitle">
        <div class="bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-slate-200 dark:border-slate-700 shadow-xl">
          <div class="flex justify-between items-center mb-6">
            <h3 id="analysisTitle" class="text-xl font-bold">Analisis Korpus Dokumen</h3>
            <button 
              onclick="closeAnalysisModal()" 
              class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700" 
              aria-label="Tutup dialog" 
              title="Tutup">
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
          <div id="analysisContent" class="space-y-6">
          </div>
        </div>
      </div>

      <!-- No Results Message -->
      <div id="noResults" class="hidden text-center py-16">
        <div class="text-7xl mb-6 text-slate-300 dark:text-slate-700">
          <i class="fas fa-search-minus"></i>
        </div>
        <h3 class="text-xl font-semibold text-slate-700 dark:text-slate-300 mb-3">Tidak ada hasil ditemukan</h3>
        <p class="text-slate-500 dark:text-slate-400 mb-6 max-w-lg mx-auto">Coba kata kunci lain atau periksa ejaan Anda</p>
        <div class="flex flex-wrap justify-center gap-3">
          <button 
            onclick="quickSearch('sejarah')" 
            aria-label="Cari sejarah"
            class="px-4 py-2 bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300 rounded-lg hover:bg-sky-200 dark:hover:bg-sky-900/50 transition-colors">
            <i class="fas fa-history mr-1"></i>Cari "sejarah"
          </button>
          <button 
            onclick="quickSearch('wisata')" 
            aria-label="Cari wisata"
            class="px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors">
            <i class="fas fa-map-marker-alt mr-1"></i>Cari "wisata"
          </button>
          <button 
            onclick="resetSearch()" 
            aria-label="Reset pencarian"
            class="px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors">
            <i class="fas fa-redo-alt mr-1"></i>Reset pencarian
          </button>
        </div>
      </div>

      <!-- Welcome Message -->
      <div id="welcome" class="text-center py-12">
        <div class="text-7xl mb-6 text-red-500 dark:text-red-400">
          <i class="fas fa-flag"></i>
        </div>
        <h2 class="text-2xl font-bold text-slate-800 dark:text-slate-100 mb-4">Selamat Datang di Gatot Kaca Search</h2>
        <p class="text-slate-600 dark:text-slate-300 mb-8 max-w-xl mx-auto">Jelajahi kekayaan informasi tentang sejarah dan wisata Indonesia</p>
        
        <div class="grid sm:grid-cols-2 gap-6 max-w-2xl mx-auto">
          <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group">
            <div class="text-3xl mb-3 text-sky-600 dark:text-sky-400 group-hover:scale-110 transition-transform">
              <i class="fas fa-book-open"></i>
            </div>
            <h3 class="font-semibold mb-2 text-slate-800 dark:text-slate-200">Sejarah Indonesia</h3>
            <p class="text-sm text-slate-600 dark:text-slate-400">Pelajari perjalanan sejarah bangsa Indonesia dari masa ke masa</p>
            <button 
              onclick="quickSearch('sejarah indonesia')" 
              class="mt-4 px-3 py-1.5 bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300 text-sm rounded-lg hover:bg-sky-200 dark:hover:bg-sky-900/50 transition-colors"
              aria-label="Cari sejarah Indonesia">
              <i class="fas fa-search mr-1"></i>Jelajahi
            </button>
          </div>
          
          <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group">
            <div class="text-3xl mb-3 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform">
              <i class="fas fa-umbrella-beach"></i>
            </div>
            <h3 class="font-semibold mb-2 text-slate-800 dark:text-slate-200">Wisata Indonesia</h3>
            <p class="text-sm text-slate-600 dark:text-slate-400">Temukan destinasi wisata menarik di seluruh nusantara</p>
            <button 
              onclick="quickSearch('wisata indonesia')" 
              class="mt-4 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-sm rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors"
              aria-label="Cari wisata Indonesia">
              <i class="fas fa-search mr-1"></i>Jelajahi
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-slate-800 dark:bg-slate-900 text-white py-8 border-t border-slate-700/50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <p class="text-slate-400">
        <i class="fas fa-copyright mr-1"></i>2025 Gatot Kaca Search Engine. anggapuspa
      </p>
    </div>
  </footer>

<script src="main.js"></script>
</body>
</html>